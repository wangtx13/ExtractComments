 * @(#)ExportAction.java  1.0  2006-04-07
 * Copyright (c) 1996-2006 by the original authors of JHotDraw
 * and all its contributors ("JHotDraw.org")
 * All rights reserved.
 * This software is the confidential and proprietary information of
 * JHotDraw.org ("Confidential Information"). You shall not disclose
 * such Confidential Information and shall use it only in accordance
 * with the terms of the license agreement you entered into with
 * JHotDraw.org.
 
 * ExportAction.
 * <p>
 * This action requires that the project has the following additional methods:
 * <pre>
 * public JFileChooser getExportChooser();
 * // By convention this method is never invoked on the AWT Event Dispatcher Thread.
 * public void export(File f, javax.swing.filechooser.FileFilter filter, Component accessory) throws IOException;
 * </pre>
 * @author Werner Randelshofer
 * @version 1.0 2006-04-07 Created.
 
 Creates a new instance. 
            project.setFile(file);
            project.markChangesAsSaved();
            int multiOpenId = 1;
            for (Project p : project.getApplication().documents()) {
                if (p != project && p.getFile() != null && p.getFile().equals(file)) {
                    multiOpenId = Math.max(multiOpenId, p.getMultipleOpenId() + 1);
                }
            }
            project.setMultipleOpenId(multiOpenId);
             
 FIXME localize this error messsage
